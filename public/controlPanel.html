<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control - StripeLabApp</title>
    <link rel="stylesheet" href="assets/css/style_controlPanel.css">

</head>
<body>
<div class="container">
    <h1>Panel de Control - StripeLabApp</h1>

    <!-- Estado de la conexión -->
    <div class="card">
        <h2>Estado de la Conexión</h2>
        <div class="connection-status">
            <div id="connectionStatus"></div>
            <span id="dbConnectionState">Verificando conexión...</span>
        </div>

        <table class="info-table">
            <tr>
                <td>Base de datos:</td>
                <td id="dbName">--</td>
            </tr>
            <tr>
                <td>Host:</td>
                <td id="dbHost">--</td>
            </tr>
            <tr>
                <td>Usuario:</td>
                <td id="dbUser">--</td>
            </tr>
            <tr>
                <td>Última conexión:</td>
                <td id="lastConnection">--</td>
            </tr>
            <tr>
                <td>Tablas disponibles:</td>
                <td id="tablesCount">--</td>
            </tr>
        </table>

        <div style="margin-top: 15px;">
            <button id="reconnectButton">Reconectar</button>
        </div>
    </div>

    <!-- Visualizador de tablas -->
    <div class="card">
        <h2>Datos de la Base de Datos</h2>

        <div class="table-controls">
            <select id="tableSelector">
                <option value="">Seleccionar tabla</option>
            </select>
            <button id="loadTableButton">Cargar Tabla</button>
            <button id="exportTableButton">Exportar CSV</button>
        </div>

        <div class="data-container">
            <div id="tableData">
                <div class="empty-state">
                    Seleccione una tabla y haga clic en "Cargar Tabla" para ver los datos
                </div>
            </div>
        </div>
    </div>

    <!-- Terminal de Logs -->
    <div class="card">
        <h2>Terminal de Logs</h2>

        <div class="terminal-header">
            <div class="terminal-controls">
                <select id="logTypeFilter">
                    <option value="all">Todos los script_logs</option>
                    <option value="info">Info</option>
                    <option value="warning">Warning</option>
                    <option value="error">Error</option>
                </select>
                <button id="refreshLogsButton">Actualizar</button>
                <button id="clearLogsButton">Limpiar</button>
            </div>
        </div>

        <div class="terminal">
            <div id="logsContainer">
                <div class="terminal-placeholder">
                    No hay script_logs disponibles. Las actividades del sistema se mostrarán aquí.
                </div>
                <!-- Los script_logs se mostrarán aquí dinámicamente -->
            </div>
        </div>
    </div>
</div>

<!-- Script para comunicarse con control.php -->
<script src="/assets/js/script_controlPanel.js"></script>
<script src="/assets/js/script_logs.js"></script>
</body>
</html>